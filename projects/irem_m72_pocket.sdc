# ==============================================================================
# Quartus Prime Synopsys Design Constraint File
# Generated by OpenGateware - Gateman CLI v0.1.0
# ==============================================================================
# Analogue Pocket SDC settings
# Users are recommended to modify this file to match users logic.
# Put your clock groups in here as well as any net assignments.
# ==============================================================================

# ==============================================================================
# Time Information
# ==============================================================================

# ==============================================================================
# Create Clock
# ==============================================================================
############################################################
# RELOJES DERIVADOS DEL PLL PRINCIPAL (core_pll)
# Observado por report_clocks (con preservación jerárquica)
############################################################

create_clock -add -name clk_dram -period 9.552 \
  [get_clocks {ic|core_pll|core_pll_inst|altera_pll_i|cyclonev_pll|counter[0].output_counter|divclk}]

create_clock -add -name clk_sys -period 28.658 \
  [get_clocks {ic|core_pll|core_pll_inst|altera_pll_i|cyclonev_pll|counter[1].output_counter|divclk}]

create_clock -add -name clk_video -period 114.635 \
  [get_clocks {ic|core_pll|core_pll_inst|altera_pll_i|cyclonev_pll|counter[2].output_counter|divclk}]

############################################################
# RELOJES DE AUDIO DERIVADOS DEL PLL DE AUDIO
############################################################

############################################################
# RELACIONES MULTICYCLE (SDRAM/LOGIC)
############################################################


# ==============================================================================

set_multicycle_path 4 -from [get_registers *mcu*] -to [get_registers *mcu*]
set_multicycle_path 3 -hold -from [get_registers *mcu*] -to [get_registers *mcu*]
# Create Generated Clock
# ==============================================================================

# ==============================================================================
# Set Clock Latency
# ==============================================================================

# ==============================================================================
# Set Clock Uncertainty
# ==============================================================================

# ==============================================================================
# Set Input Delay
# ==============================================================================
set_input_delay -clock { ic|core_pll|core_pll_inst|altera_pll_i|general[0].gpll~PLL_OUTPUT_COUNTER|divclk } -max 6.4 [get_ports dram_dq[*]]
set_input_delay -clock { ic|core_pll|core_pll_inst|altera_pll_i|general[0].gpll~PLL_OUTPUT_COUNTER|divclk } -min 3.1 [get_ports dram_dq[*]]

# ==============================================================================
# Set Output Delay
# ==============================================================================
# tDH, hold time, spec is 0.8ns
# tDS, setup time, spec is 1.5ns
set_output_delay -clock { ic|core_pll|core_pll_inst|altera_pll_i|general[0].gpll~PLL_OUTPUT_COUNTER|divclk } -min -0.8 [get_ports {dram_a[*] dram_ba[*] dram_cke dram_dqm[*] dram_dq[*] dram_ras_n dram_cas_n dram_we_n}]
set_output_delay -clock { ic|core_pll|core_pll_inst|altera_pll_i|general[0].gpll~PLL_OUTPUT_COUNTER|divclk } -max 1.5 [get_ports {dram_a[*] dram_ba[*] dram_cke dram_dqm[*] dram_dq[*] dram_ras_n dram_cas_n dram_we_n}]

# ==============================================================================
# Set Clock Groups
# ==============================================================================

# ==============================================================================
# Set False Path
# ==============================================================================

# ==============================================================================
# Set Multicycle Path
# ==============================================================================
set_multicycle_path -from {ic|m72:m72|mcu:mcu|mc8051_core:mc8051|*}  -setup 2
set_multicycle_path -from {ic|m72:m72|mcu:mcu|mc8051_core:mc8051|*}  -hold 1
set_multicycle_path -from {ic|m72:m72|mcu:mcu|dpramv:prom|altsyncram:ram_rtl_0|*} -to {ic|m72:m72|mcu:mcu|mc8051_core:mc8051|mc8051_control:i_mc8051_control|*} -setup 2
set_multicycle_path -from {ic|m72:m72|mcu:mcu|dpramv:prom|altsyncram:ram_rtl_0|*} -to {ic|m72:m72|mcu:mcu|mc8051_core:mc8051|mc8051_control:i_mc8051_control|*} -hold 1
set_multicycle_path -from {ic|m72:m72|mcu:mcu|dpramv:prom|altsyncram:ram_rtl_0|*} -to {ic|m72:m72|mcu:mcu|prom_addr[*]} -setup 2
set_multicycle_path -from {ic|m72:m72|mcu:mcu|dpramv:prom|altsyncram:ram_rtl_0|*} -to {ic|m72:m72|mcu:mcu|prom_addr[*]} -hold 1

# ==============================================================================
# Set Maximum Delay
# ==============================================================================

# ==============================================================================
# Set Minimum Delay
# ==============================================================================

# ==============================================================================
# Set Input Transition
# ==============================================================================

